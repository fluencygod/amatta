/* Custom menu font (regular) */
@font-face{
  font-family: 'MenuRegular';
  src: url('/fonts/menu-regular.woff2') format('woff2'), url('/fonts/menu-regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

:root{
  --bg:#ffffff; --surface:#ffffff; --card:#ffffff; --text:#18212f; --muted:#6b7687; --primary:#d62e2e; --accent:#0ea5e9; --border:#e9edf2;
  --shadow-sm: 0 1px 2px rgba(16,24,40,0.06);
  --shadow-md: 0 2px 8px rgba(16,24,40,0.08);
  --header-h: 40px;
  --tabbar-h: 56px;
  --menu-font: 'MenuRegular', 'Jua', 'Noto Sans KR', 'Fjalla One', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  /* mode color defaults (ALL) */
  --mode-r:114; --mode-g:136; --mode-b:134;
  --mode-color: rgb(var(--mode-r), var(--mode-g), var(--mode-b));
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', Helvetica, Arial, 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', sans-serif}
a{color:inherit;text-decoration:none}

.container{max-width:1440px;margin:0 auto;padding:16px 24px 24px}
.center-page{min-height:calc(100vh - var(--header-h));display:flex;align-items:center;justify-content:center;padding:24px}
.auth-card{padding:40px; width:100%; max-width:500px; height:480px; margin:0 auto; display:flex; flex-direction:column; align-items:center; justify-content:center; overflow:auto}
.auth-title{margin:0 0 16px; text-align:center}
.auth-card .form{place-items:center; width:100%}
.auth-card .input{width:100%; max-width:420px}
.auth-actions{display:flex;flex-direction:column;align-items:center;gap:10px}
.auth-actions .btn{justify-content:center; min-width:200px; font-size:15px}
.row{display:flex;gap:16px;flex-wrap:wrap}
.grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
.grid-3{grid-template-columns:repeat(3,1fr)}

/* Header */
.header{position:fixed;left:0;right:0;top:0;z-index:30;background:rgba(255,255,255,0.9);backdrop-filter:saturate(180%) blur(10px);border-bottom:none}
.header-inner{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center;gap:8px;padding:6px 16px;min-height:var(--header-h)}
.brand{font-weight:700;letter-spacing:.2px;font-family: var(--menu-font);font-size:16px}
.top-links{display:flex;gap:10px;color:var(--muted);font-family: var(--menu-font)}
.top-link{padding:2px 4px;border-radius:8px;white-space:nowrap;font-weight:500;font-size:14px}
.top-link:hover{color:var(--text)}
.top-link.active{color:var(--primary);font-weight:700;background:transparent;box-shadow:none}
.left{justify-self:start}
.center-stack{justify-self:center;display:flex;flex-direction:row;align-items:center;gap:16px;max-width:min(1200px,90vw)}
.right{justify-self:end}
.avatar{width:32px;height:32px;border-radius:999px;background:var(--primary);color:#fff;display:inline-flex;align-items:center;justify-content:center;font-weight:700}
.account-menu{position:absolute;right:0;top:calc(100% + 8px);background:var(--surface);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow-md);padding:6px;display:grid;gap:2px;min-width:160px;z-index:10000}
.search{display:flex;justify-content:flex-start}
.search-box{position:relative;width:190px}
.search-box svg{position:absolute;left:12px;top:50%;transform:translateY(-50%)}
.search input{width:100%;padding:6px 12px 6px 30px;border-radius:18px;border:1px solid var(--border);background:var(--surface);color:var(--text);font-size:14px}
.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:var(--surface);border:1px solid var(--border);border-radius:999px;color:var(--text);cursor:pointer}
.btn.primary{background:var(--primary);border-color:transparent;color:#fff}
.btn.login{background:var(--primary);color:#fff;border:none;font-family:'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', Helvetica, Arial, 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', sans-serif; font-weight:500; font-size:14px; padding-left:16px; padding-right:16px; box-shadow:0 4px 10px rgba(214,46,46,0.35)}

/* Login-specific sizing */
/* removed login-specific override to keep login/signup identical */

/* Sticky Tab Navigation */
.tabbar{position:fixed;left:0;right:0;top:calc(var(--header-h) + 14px);z-index:15;background:transparent;display:flex;align-items:center;height:var(--tabbar-h)}
.tabbar.stuck{box-shadow:none}
.tabbar-inner{display:flex;gap:22px;padding:0;justify-content:center;align-items:center;width:100%;position:relative}
.tabgroup{display:flex;gap:6px;padding:6px 18px;background:var(--card);border:1px solid var(--border);border-radius:999px;box-shadow:var(--shadow-sm)}
.tabbar-spacer{height:calc(var(--tabbar-h) + 25px)}
.tabchip{position:relative;padding:10px 16px;border-radius:14px;background:transparent;border:none;color:var(--muted);cursor:pointer;font-family:'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', Helvetica, Arial, 'Apple SD Gothic Neo', 'Malgun Gothic', '맑은 고딕', sans-serif;font-weight:500;font-size:13px}
.tabchip.active{color:var(--text);font-weight:600;background:rgba(0,0,0,0.04)}
.tabchip:active{background:rgba(0,0,0,0.06)}
.tabchip .indicator{position:absolute;left:10px;right:10px;bottom:-2px;height:2px;background:var(--indicator-color, var(--primary));border-radius:2px}

/* Neumorphism toggle (For ALL / For You) — iOS-style */
.mode-toggle{position:static;display:inline-flex;align-items:center;padding:2px;border-radius:999px;border:none;background: currentColor;cursor:pointer;user-select:none;box-shadow: 6px 6px 14px rgba(0,0,0,0.08), -6px -6px 12px rgba(255,255,255,0.9); width: 64px; height: 32px; overflow:hidden; position:relative}
.mode-toggle .label-left,.mode-toggle .label-right{position:absolute;top:50%;transform:translateY(-50%);font-size:10px;font-weight:900; color: #eff2f6; text-align:center; pointer-events:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.mode-toggle .label-left{left:2px; right: calc(2px + 28px + 2px)}
.mode-toggle .label-right{left: calc(2px + 28px + 2px); right: 2px}
.mode-toggle.off .label-left{opacity:0}
.mode-toggle.on .label-right{opacity:0}
.mode-toggle .dot{position:absolute;top:2px;left:2px;width:28px;height:28px;border-radius:999px;display:inline-block;background:#fff;transition: left .18s ease; box-shadow: inset 5px 5px 10px rgba(0,0,0,0.2), inset -5px -5px 10px rgba(255,255,255,1)}
.mode-toggle.on .dot{left: calc(100% - 2px - 28px)}
.mode-toggle.off{color: rgb(114, 136, 134)}
.mode-toggle.on{color: rgb(171, 61, 48)}
.mode-toggle.off{color: rgb(114, 136, 134)}
.mode-toggle.on{color: rgb(171, 61, 48)}
.mode-toggle:active{box-shadow: inset 4px 4px 10px rgba(0,0,0,0.08), inset -4px -4px 10px rgba(255,255,255,0.9)}

/* Surfaces */
.panel{background:var(--surface);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-sm)}
.panel.card{box-shadow:var(--shadow-md)}
.panel.sidebar{box-shadow:var(--shadow-md)}

/* Hero card */
.hero-card{display:grid;grid-template-columns:1.4fr 1fr;gap:0;overflow:visible}
.hero-card .hero-image{position:relative;overflow:hidden;border-radius:16px 0 0 16px}
.hero-card img{width:100%;height:360px;object-fit:cover;display:block}
.hero-card .hero-image::after{content:'';position:absolute;left:0;right:0;bottom:0;height:42%;background:linear-gradient(to top, rgba(0,0,0,0.55), rgba(0,0,0,0));z-index:1}
.hero-overlay{position:absolute;left:16px;right:16px;bottom:16px;color:#fff;z-index:2}
.hero-title-overlay{margin:0;font-size:22px;line-height:1.3;text-shadow:0 2px 8px rgba(0,0,0,0.35);color:#ffffff}
.hero-content{padding:20px}
.hero-title{margin:0 0 8px;font-size:20px;font-weight:700}
.hero-desc{margin:0;color:var(--muted);font-size:14px;line-height:1.6;display:-webkit-box;-webkit-line-clamp:7;-webkit-box-orient:vertical;overflow:hidden}
/* reset hero controls to appear directly under summary */

.card{padding:0;overflow:visible;background:var(--card);border-radius:16px}
.card-cover{width:100%;height:180px;object-fit:cover;display:block;border-radius:16px 16px 0 0}
.card h4{margin:10px 0 6px;font-size:16px}
.card p{margin:0;color:var(--muted);font-size:14px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.card-body{padding:14px}
.source-line{margin-top:8px}
.card-actions{display:flex;align-items:center;gap:6px}
.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:8px;border:none;background:transparent;cursor:pointer}
.icon-btn:hover{background:rgba(0,0,0,0.04)}
.icon-btn.active{background:#ffecec}

/* Bookmark badge overlay */
.bookmark-badge{position:absolute;top:8px;right:8px;width:26px;height:26px;border-radius:999px;background:rgba(255,255,255,0.95);display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm)}

.more-menu{position:absolute;right:0;top:34px;background:var(--surface);border:1px solid var(--border);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.18);padding:6px;display:grid;gap:2px;min-width:160px;z-index:10000}
.menu-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;border:none;background:transparent;color:var(--text);cursor:pointer}
.menu-item:hover{background:#f6f5f3}
.menu-item.selected{background:#eef6ff}

/* ForYou inbox list */
.inbox-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;border:1px solid var(--border);background:var(--surface);text-align:left;cursor:pointer;position:relative}
.inbox-item + .inbox-item{margin-top:6px}
.inbox-item img{width:52px;height:52px;object-fit:cover;border-radius:8px}
.inbox-item .meta{display:grid}
.inbox-item .title{font-size:14px;font-weight:600;line-height:1.3}
.inbox-item .desc{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}
.inbox-item.active{background:#f5f7fb}
.remove-btn{margin-left:auto;border:none;background:transparent;color:#9aa1ab;width:24px;height:24px;border-radius:8px;cursor:pointer}
.remove-btn:hover{background:rgba(0,0,0,0.04);color:#333}

/* Trust scale */
.card-meta{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
.trust{display:flex;align-items:center;gap:10px}
.trust-scale{display:flex;align-items:center;gap:6px}
.trust-dot{width:8px;height:8px;border-radius:999px;background:#e5e7eb}
.trust-scale .trust-dot.on:nth-child(1){background:#ef4444}
.trust-scale .trust-dot.on:nth-child(2){background:#f59e0b}
.trust-scale .trust-dot.on:nth-child(3){background:#fbbf24}
.trust-scale .trust-dot.on:nth-child(4){background:#22c55e}
.trust-scale .trust-dot.on:nth-child(5){background:#16a34a}
.trust-label{margin-left:4px}

/* Trends */
.sidebar{padding:16px}
.sidebar.trends{padding:20px 0 20px 20px}
.sidebar.sticky{position:sticky;top:calc(var(--header-h) + var(--tabbar-h) + 12px);align-self:start}
.trends h4{margin:0 0 10px}
.trend-tabs{display:flex;gap:8px;margin-bottom:12px;width:80%;margin-left:auto;margin-right:auto}
.trend-tab{flex:1; text-align:center; padding:6px 8px;border:none;background:transparent;color:var(--mode-color);box-shadow:none;position:relative}
.trend-tab.active{background:transparent}
.trend-tab.active::after{content:"";position:absolute;left:10px;right:10px;bottom:-2px;height:3px;background:var(--mode-color);border-radius:2px}
.trend-tab.active{background:transparent;border:none;color:var(--mode-color)}
.trend-list{display:grid;gap:8px}
.trend-item{display:flex;align-items:center;gap:10px;padding:4px 0;border-radius:0;border:none;background:transparent;font-size:13px;color:var(--text)}
.trend-num{width:22px;height:22px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background: rgba(var(--mode-r), var(--mode-g), var(--mode-b), 0.12);border:1px solid rgba(var(--mode-r), var(--mode-g), var(--mode-b), 0.35);color: var(--mode-color);font-size:12px;box-shadow:0 1px 2px rgba(0,0,0,0.04)}

/* Forms */
.form{display:grid;gap:12px;max-width:360px}
.input{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:var(--surface);color:var(--text);box-shadow:var(--shadow-sm)}
.muted{color:var(--muted);font-size:13px}

/* Modal (bottom sheet) */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.4);z-index:40}
.modal-sheet{position:fixed;left:50%;right:auto;bottom:0;width:min(64vw,900px);height:min(92vh,860px);background:var(--surface);border-top:1px solid var(--border);border-radius:24px 24px 0 0;box-shadow:0 -12px 32px rgba(0,0,0,.15);transform:translate(-50%,0);animation:slideUp .22s ease-out;display:flex;flex-direction:column}
.modal-header{position:relative;display:flex;align-items:center;justify-content:space-between;padding:72px 64px 16px 80px;border-bottom:none}
.modal-title-block{display:flex;flex-direction:column;gap:8px}
.modal-header h3{margin:0;font-size:24px}
.article-date{position:static;color:var(--muted);font-size:12px;margin-top:2px}
.modal-close{position:absolute;top:4px;right:12px;width:56px;height:56px;border:none;background:transparent;color:#d65a2e;opacity:.85;font-size:30px;cursor:pointer}
.modal-close:hover{opacity:1}
.modal-body{padding:8px 64px 0 80px;overflow:auto;flex:1;overscroll-behavior:contain}
.modal-cover{width:100%;height:260px;object-fit:cover;border-radius:12px}

/* Modal actions (Perplexity-like) */
.action-bar{display:flex;gap:10px;flex-wrap:wrap;margin-top:24px;padding-top:12px;border-top:1px solid var(--border)}
.action-btn{padding:8px 12px;border-radius:999px;background:var(--surface);border:1px solid var(--border);color:var(--text);cursor:pointer}
.action-btn.primary{background:#fff4f3;border-color:#ffd9d4;color:#c13226}
@keyframes slideUp{from{transform:translate(-50%,100%)}to{transform:translate(-50%,0)}}

/* Prevent background scroll when modal open */
body.modal-open{overflow:hidden}
/* Date sections */
.date-section-title{margin:12px 0 8px;font-size:20px;font-weight:400}
